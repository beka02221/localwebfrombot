ctx.clearRect(0, 0, canvas.width, canvas.height);
        drawMatrix({ shape: playfield, color: 'black' }, { x: 0, y: 0 });
        drawMatrix(tetromino, position);

        requestAnimationFrame(update);
    }

    document.addEventListener('keydown', event => {
        if (event.key === 'ArrowLeft') {
            move(-1);
        } else if (event.key === 'ArrowRight') {
            move(1);
        } else if (event.key === 'ArrowDown') {
            drop();
        } else if (event.key === 'ArrowUp') {
            rotate(tetromino);
        }
    });

    update();
</script>

</body>
</html>